function initNavigation(){let e=document.getElementById("nav-toggle"),t=document.querySelector(".nav__menu");if(e&&t){e.addEventListener("click",function(){t.classList.toggle("nav__menu--active"),e.classList.toggle("nav__toggle--active")});let i=document.querySelector(".nav__close");i&&i.addEventListener("click",function(){t.classList.remove("nav__menu--active"),e.classList.remove("nav__toggle--active")}),document.querySelectorAll(".nav__link").forEach(i=>{i.addEventListener("click",function(){t.classList.remove("nav__menu--active"),e.classList.remove("nav__toggle--active")})}),document.addEventListener("click",function(i){e.contains(i.target)||t.contains(i.target)||(t.classList.remove("nav__menu--active"),e.classList.remove("nav__toggle--active"))})}}function initSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=this.getAttribute("href"),i=document.querySelector(t);if(i){let e=document.querySelector(".header").offsetHeight,t=i.offsetTop-e;window.scrollTo({top:t,behavior:"smooth"})}})})}function initScrollEffects(){let e=document.querySelector(".header");window.addEventListener("scroll",function(){window.scrollY>50?e.classList.add("header--scrolled"):e.classList.remove("header--scrolled")})}function initTicketPopup(){let e=document.querySelector(".ticket-popup");if(!e)return;let t=e.querySelector(".ticket-popup__close");t&&t.addEventListener("click",t=>{t.stopPropagation(),e.classList.add("ticket-popup--hidden")}),e.addEventListener("transitionend",t=>{"opacity"===t.propertyName&&e.classList.contains("ticket-popup--hidden")&&(e.style.display="none")})}function initLiveToggle(){let e=document.querySelectorAll(".live__tab"),t=document.querySelectorAll(".live__pane");e.length&&t.length&&e.forEach(i=>{i.addEventListener("click",()=>{let n=i.getAttribute("data-target");n&&(e.forEach(e=>{let t=e===i;e.classList.toggle("is-active",t),e.setAttribute("aria-selected",t?"true":"false")}),t.forEach(e=>{let t=e.getAttribute("data-pane")===n;e.classList.toggle("is-active",t),e.setAttribute("aria-hidden",t?"false":"true")}))})})}function initDeadlineTooltips(){let e=document.querySelectorAll(".qualifier-card__deadline");if(!e.length)return;let t=document.createElement("div");t.className="tooltip tooltip--deadline",t.setAttribute("role","tooltip"),document.body.appendChild(t);let i=e=>{let i=(e=>{let t=e.getAttribute("data-deadline");if(!t){let i=(e.textContent||"").match(/(\d{1,2})\/(\d{1,2}).*?(\d{1,2}):(\d{2})/);if(i){let e=new Date().getFullYear(),n=String(parseInt(i[1],10)).padStart(2,"0"),l=String(parseInt(i[2],10)).padStart(2,"0"),o=String(parseInt(i[3],10)).padStart(2,"0"),r=String(parseInt(i[4],10)).padStart(2,"0");t=`${e}-${n}-${l}T${o}:${r}:00+09:00`}}if(!t)return null;let i=new Date(t);return isNaN(i.getTime())?null:i})(e);if(!i)return;let n=new Date;t.textContent=(e=>{if(e<=0)return"締切済み";let t=Math.floor(e/6e4),i=Math.floor(t/1440),n=Math.floor(t%1440/60),l=[];return i&&l.push(`${i}\u{65E5}`),l.push(`${n}\u{6642}\u{9593}`),l.push(`${t%60}\u{5206}`),`\u{7DE0}\u{5207}\u{307E}\u{3067} \u{6B8B}\u{308A}: ${l.join(" ")}`})(i.getTime()-n.getTime()),t.style.display="block",t.classList.add("tooltip--visible"),t.classList.remove("tooltip--below");let l=e.getBoundingClientRect(),o=t.offsetWidth,r=t.offsetHeight,a=l.left+window.scrollX+l.width/2-o/2;a=Math.max(window.scrollX+8,Math.min(a,window.scrollX+window.innerWidth-o-8));let s=l.top+window.scrollY-r-10;s<window.scrollY+8&&(s=l.bottom+window.scrollY+10,t.classList.add("tooltip--below")),t.style.left=`${a}px`,t.style.top=`${s}px`},n=()=>{t.classList.remove("tooltip--visible"),t.style.display="none"};e.forEach(e=>{e.addEventListener("mouseenter",()=>i(e)),e.addEventListener("mouseleave",n),e.addEventListener("focus",()=>i(e)),e.addEventListener("blur",n)}),window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",n,{passive:!0})}function initRegistrationAutoClose(){let e=document.querySelectorAll(".qualifier-card");e.length&&e.forEach(e=>{let t=e.querySelector(".qualifier-card__register"),i=e.querySelector(".qualifier-card__deadline");if(!t||!i)return;let n=(e=>{if(!e)return null;let t=e.getAttribute("data-deadline");if(!t){let i=(e.textContent||"").match(/(\d{1,2})\/(\d{1,2}).*?(\d{1,2}):(\d{2})/);if(i){let e=new Date().getFullYear(),n=String(parseInt(i[1],10)).padStart(2,"0"),l=String(parseInt(i[2],10)).padStart(2,"0"),o=String(parseInt(i[3],10)).padStart(2,"0"),r=String(parseInt(i[4],10)).padStart(2,"0");t=`${e}-${n}-${l}T${o}:${r}:00+09:00`}}if(!t)return null;let i=new Date(t);return isNaN(i.getTime())?null:i})(i);if(!n)return;let l=n.getTime()+6e4;new Date().getTime()>=l&&(t.href="#",t.textContent="選手登録終了",t.setAttribute("aria-disabled","true"),t.removeAttribute("target"),t.addEventListener("click",e=>{e.preventDefault()}))})}document.addEventListener("DOMContentLoaded",function(){initNavigation(),initSmoothScrolling(),initScrollEffects(),initLiveToggle(),initTicketPopup(),initDeadlineTooltips(),initRegistrationAutoClose()});
//# sourceMappingURL=rashinban_lp.27855d46.js.map
